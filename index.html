<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>joeyr • joeyr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="joeyr">
<meta property="og:description" content="A personal package for vowel data">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@joey_stan">
<meta name="twitter:site" content="@joey_stan">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-86802921-3"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-86802921-3');
</script>
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">joeyr</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.9.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/JoeyStanley/joeyr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="joeyr">joeyr<a class="anchor" aria-label="anchor" href="#joeyr"></a>
</h1></div>
<p>A hodge-podge of useful functions.</p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This is essentially my sandbox R Package. It has a hodge-podge of functions that I’ve used over the past several years. As I work with my sociophonetic data, I find myself running the same sorts of procedures over and over, so I often decide to write a generalized function to take care of that stuff in one line within a tidyverse pipeline.</p>
<p>The functions in <code>joeyr</code> can be grouped into about five different categories: the outlier detecters, sociophonetics functions, <code>ggplot2</code> themes, the “grapes”, and other helpful functions. This README briefly explains them all.</p>
<p>Some of these functions I’ve generalized into something that others may find useful. Others are very specific to my own code and workflow so I’m not sure if they’ll be useful to you. Some functions are documented well but lots are not.</p>
<p>For questions, feel free to contact me at <a href="mailto:joey_stanley@byu.edu" class="email">joey_stanley@byu.edu</a> or on Twitter at <a href="https://twitter.com/joey_stan" class="external-link">@joey_stan</a>.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>This package can be downloaded to your computer by downloading it from Github.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#install.packages("devtools") # &lt;- if not already installed</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"JoeyStanley/joeyr"</span><span class="op">)</span></span></code></pre></div>
<p>You can then load it like any other package.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://joeystanley.github.io/joeyr/" class="external-link">joeyr</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="do">## This is the "joeyr" package.</span></span></code></pre></div>
<p>You’ll know you’ve got it installed properly when you see a little message saying <code>This is the "joeyr" package.</code>.</p>
</div>
<div class="section level2">
<h2 id="group-1-the-filter">Group 1: The Filter<a class="anchor" aria-label="anchor" href="#group-1-the-filter"></a>
</h2>
<p>The main function, and the reason I created the package in the first place, is <code><a href="reference/find_outliers.html">find_outliers()</a></code>. It implements a version of the Mahalanobis Distance, except it does so iteratively. After finding the distances for each point, it marks the furthest token as an outlier, and then recalculates the distance based on the remaining points. It continues this one-at-a-time procedure until a proportion of your data (that you’ve specified) has been removed.</p>
<p>For more details, see <code><a href="reference/find_outliers.html">?find_outliers</a></code>. In the future I’ll write a vignette, blog post, or (perhaps some day) an article about it. For now, look at the help page or email me.</p>
</div>
<div class="section level2">
<h2 id="group-2-sociophonetics-functions">Group 2: Sociophonetics functions<a class="anchor" aria-label="anchor" href="#group-2-sociophonetics-functions"></a>
</h2>
<p>Some functions in <code>joeyr</code> are useful for sociophonetic analysis. This first set includes what are essentially mathmatical functions in that they crunch some numbers.</p>
<ul>
<li><p><code><a href="reference/eucl_dist.html">eucl_dist()</a></code> calculates the Euclidean Distance, given a pair of <em>x</em> and <em>y</em> (or, more commonly, F1 and F2) coordinates.</p></li>
<li><p><code><a href="reference/pillai.html">pillai()</a></code> calculates the Pillai score. It’s not a complicated process in general, but this function simplifies it down quite a bit so it doesn’t interrupt your workflow.</p></li>
<li><p><code><a href="reference/tidy_mahalanobis.html">tidy_mahalanobis()</a></code> is probably my favorite. It’s an implementation of the <code><a href="https://rdrr.io/r/stats/mahalanobis.html" class="external-link">mahalanobis()</a></code> function, which calculates the Mahalanobis distance, only it’s meant to work within a <code>tidyverse</code> pipeline of commands. Like the <code><a href="reference/pillai.html">pillai()</a></code> function, it’s designed so that you can get the values you want without interrupting your flow.</p></li>
<li><p><code><a href="reference/lbms_index.html">lbms_index()</a></code> allows you to quickly calculate the Low-Back-Merger Shift Index in your data (see Becker 2019; Boberg 2019).</p></li>
</ul>
<p>There are three normalization procedures.</p>
<ul>
<li><p><code><a href="reference/norm_anae.html">norm_anae()</a></code> makes it easy to do vowel formant normalization using the method described in the <em>Atlas of North American English</em> using just one line of code within a tidyverse pipeline. This is my current favorite normalization procedure and I was sick of writing large blocks of code in all my scripts, so I wrapped it up as a function.</p></li>
<li><p><code><a href="reference/norm_deltaF.html">norm_deltaF()</a></code> is another way to normalize your data, based on Keith Johnson’s (2020) paper.</p></li>
<li><p><code><a href="reference/norm_logmeans.html">norm_logmeans()</a></code> is a straightforward log-means normalization procedure based on Barreda &amp; Nearey (2018).</p></li>
</ul>
<p>Finally, there are two functions are more about changing labels for phonemes and allophones.</p>
<ul>
<li><p><code><a href="reference/switch_transcriptions.html">switch_transcriptions()</a></code> (and its shortcuts including, <code><a href="reference/switch_transcriptions.html">arpa_to_wells()</a></code>), quickly converts between ARPABET labels and Wells (or Wells-inspired) keywords.</p></li>
<li><p><code><a href="reference/code_allophones.html">code_allophones()</a></code> is a one-liner that adds contexual allophones (“BAN”, “BAG”, “SPOOL”, “TOOT”, etc.) to your vowel data.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="group-3-ggplot2-themes">Group 3: <code>ggplot2</code> themes<a class="anchor" aria-label="anchor" href="#group-3-ggplot2-themes"></a>
</h2>
<p>These are currently not documented. The main one is <code>theme_joey()</code> which will produce plots using my own flavor of <code>theme_bw()</code>. There are some variants as well. The other helpful function is <code>joey_arrow()</code> which is just a shortcut for a type of arrow I like when I draw lines on a plot. I’ll admit I don’t really use these anymore.</p>
</div>
<div class="section level2">
<h2 id="group-4-the-grapes">Group 4: The grapes<a class="anchor" aria-label="anchor" href="#group-4-the-grapes"></a>
</h2>
<p>“Grapes” refer to the type of R functions that are flanked on either side by <code>%</code>, like <code>%in%</code>. The ones here came about while writing my dissertation (or rather, the code used to analze the data for my dissertation) and were super helpful for that project.</p>
<ul>
<li><p><code>%ni%</code> (“not in”“) is super handy and is the opposite if <code>%in%</code>. I don’t use it so much anymore because I’ve figured out how to use <code>!</code> properly, but I still love it.</p></li>
<li><p><code>%wi%</code> (“within”) was one I wrote to see whether a number is within a range. I think tidyverse has <code>%within%</code> somewhere in its suite of packages, but I wrote this before I knew about it. Plus, it’s a little shorter.</p></li>
<li><p><code>%expanded_by%</code> takes a number and a range and expands the range by that much (applied to both sides). So <code>c(1, 3) %expanded_by% 3</code> produces <code>c(-2, 6)</code>. It was helpul when I was automating the plots in my dissertation.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="group-5-other-helpful-functions">Group 5: Other helpful functions<a class="anchor" aria-label="anchor" href="#group-5-other-helpful-functions"></a>
</h2>
<p>While writing my dissertation, I found myself doing the same sort of pipeline over and over so I just made a couple little shortcut functions to save myself some typing.</p>
<ul>
<li><p><code><a href="reference/color_gradienter.html">color_gradienter()</a></code> was needed in my Shiny app, <a href="http://lap3.libs.uga.edu/u/jstanley/vowelcharts/" class="external-link"><em>The Gazetteer of Southern Vowels</em></a>. I needed a way to take two arbitrary colors and produce an arbitrary number of colors at fixed intervals between them. This is helpful for plots: do you want to use your favorite color of green and your favorite color of blue, but also get three more colors in between them for a continuous scale? <code><a href="reference/color_gradienter.html">color_gradienter()</a></code> can do that. I don’t know everything about how color is encoded, but it seems to work well enough for me, though there may be some weird bugs.</p></li>
<li><p><code><a href="reference/ucfirst.html">ucfirst()</a></code> was a function I copied over from Perl code. It just capitalizes the first character of a string. Unlike some other functions that are more sophisticaed and transform the text into title case, sometimes I just need the very first character only, rather than the first character of each word.</p></li>
<li><p><code><a href="reference/get_centroids.html">get_centroids()</a></code> is a little shortcut that summarizes data quickly and is helpful when plotting medians within ellipses in ggplot2.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="depreciated-functions">Depreciated functions<a class="anchor" aria-label="anchor" href="#depreciated-functions"></a>
</h2>
<p>Previous versions of <a href="https://joeystanley.github.io/joeyr/" class="external-link">joeyr</a> had a couple other tools, but recent versions of <a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a> and <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> have rendered them unnecessary. The following are no longer part of <a href="https://joeystanley.github.io/joeyr/" class="external-link">joeyr</a>, though you can find the code on GitHub in the <code>R_depreciated</code> folder.</p>
<ul>
<li><p><code>spread_n()</code> was perhaps my favorite function. I had a need for using the (old) <code><a href="https://tidyr.tidyverse.org/reference/spread.html" class="external-link">tidyr::spread()</a></code> with multiple <code>value</code> columns while reshaping formant data. I went to the RStudio forums and someone wrote a slick little function for me that I dubbed <code>spread_n()</code>. (Kieran Healey saw that post and wrote a <a href="https://kieranhealy.org/blog/archives/2018/11/06/spreading-multiple-values/" class="external-link">blog post</a> on it!). The function has since been rendered obsolete with the new <code><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">tidyr::pivot_wider()</a></code> (Kieran Healey <a href="https://kieranhealy.org/blog/archives/2019/10/21/widening-multiple-columns-redux/" class="external-link">wrote</a> about that too), so I don’t use <code>spread_n()</code> anymore. Perhaps it’ll eventually be removed from the package. But I can’t help but think that my asking that question had some role in the <code>pivot_wider()</code> function.</p></li>
<li><p><code>move_x_after_y()</code> and <code>move_x_before_y()</code> are helpful for when you want to take a column that you’ve just created and move it before or after some existing column. It’s a little buggy when you work with columns on the edges of your dataframe, but it worked well for me and my dissertation code. Note that once <code>dplyr</code> 1.0.0 is released, these functions will be phased out since the new <a href="https://dplyr.tidyverse.org/dev/reference/relocate.html" class="external-link"><code>dplyr::relocate</code></a> function does what I intended these do to.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>If you use this package, I would appreciate a citation. You can cite it as:</p>
<blockquote>
<p>Stanley, Joseph A. joeyr: Functions for Vowel Data (R package version ###), 2023. <a href="https://joeystanley.github.io/joeyr/" class="external-link uri">https://joeystanley.github.io/joeyr/</a></p>
</blockquote>
<p>Specifically, if you use the <code><a href="reference/find_outliers.html">find_outliers()</a></code> function, you can refer to it as something like “the Modified Mahalanobis Distance method implemented in Stanley (2020).”</p>
<blockquote>
<p>Stanley, Joseph A. “The Absence of a Religiolect among Latter-Day Saints in Southwest Washington.” In Speech in the Western States: Volume 3, Understudied Varieties, by Valerie Fridland, Alicia Beckford Wassink, Lauren Hall-Lew, and Tyler Kendall, 95–122. Publication of the American Dialect Society 105. Durham, NC: Duke University Press, 2020. <a href="https://doi.org/10.1215/00031283-8820642" class="external-link">https://doi.org/10.1215/00031283-8820642</a>.</p>
</blockquote>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>That’s <code>joeyr</code>. I hope you find it useful!</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/JoeyStanley/joeyr/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing joeyr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Joseph A. Stanley <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-9185-0048" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Joseph A. Stanley.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
